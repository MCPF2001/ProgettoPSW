<div *ngIf="isLoading">
  <p>Caricamento prodotti...</p>
</div>

<div *ngIf="errorMessage">
  <p>{{ errorMessage }}</p>
</div>

<div *ngIf="!isLoading && !errorMessage">
  <div class="product-container">
    <div class="product-card" *ngFor="let product of prodotti; let i = index">
      <div class="product-details">
        <h3 class="product-name">{{ product.nome }}</h3>
        <p>Prezzo: €{{ product.prezzo}}</p>
        <p>Tipo di Prodotto: {{ product.TipoProdotto }}</p>
        <p>Quantità Disponibile: {{ product.quantita }}</p>

        <div class="quantity-selector">
          <label for="quantity-{{i}}">Quantità:</label>
          <input
            id="quantity-{{i}}"
            type="number"
            [value]="quantities[i]"
            min="1"
            [max]="product.quantita"
          (change)="onQuantityChange($event, i)"
          >
        </div>

        <button class="add-to-cart" (click)="addToCart(product.id, quantities[i])">
          Aggiungi al Carrello
        </button>
      </div>
    </div>
  </div>
</div>
